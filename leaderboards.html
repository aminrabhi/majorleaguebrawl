<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Major League Brawl Leaderboard</title>
</head>
<body>
<h1>Major League Brawl Leaderboards</h1>

<button onclick="updateLeaderboards()">Update Leaderboards</button>

<h2>Major League (Legendary → Pro)</h2>
<ul id="majorLeaderboard"></ul>

<h2>Minor League (Bronze → Mythic)</h2>
<ul id="minorLeaderboard"></ul>

<script>
async function updateLeaderboards() {
  const res = await fetch('/api/update-leaderboards', { method: 'POST' });
  const data = await res.json();

  const majorUl = document.getElementById('majorLeaderboard');
  majorUl.innerHTML = '';
  data.majorLeaderboard.forEach(p => {
    const li = document.createElement('li');
    li.textContent = `${p.name} (${p.brawler}) — ${p.trophies} trophies`;
    majorUl.appendChild(li);
  });

  const minorUl = document.getElementById('minorLeaderboard');
  minorUl.innerHTML = '';
  data.minorLeaderboard.forEach(p => {
    const li = document.createElement('li');
    li.textContent = `${p.name} (${p.brawler}) — ${p.trophies} trophies`;
    minorUl.appendChild(li);
  });
}

// Auto-update on page load
updateLeaderboards();
</script>

</body>
</html>
